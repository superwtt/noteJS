### Hooks简介

#### 背景
+ React一直提倡使用函数组件，因为类组件往往存在很多缺点，比如编写麻烦等。但是组件需要使用state以及其他功能时，就只能使用类组件，因为函数组件没有实例，没有生命周期函数，只有类组件才有。
+ React Hooks是React16.8的新特性，它可以让我们在不编写类组件class的情况下，使用state以及其他React的特性

---

#### 定义
+ React Hooks的意思是，组件尽量写成纯函数，如果需要外部的功能和副作用，就用钩子把外部代码钩进来。
+ Hooks就是一些可以让你在函数组件中“钩入”React state以及生命周期特性的函数。

---

#### 为什么要使用Hooks
+ 组件之间状态复用逻辑很困难
+ 类组件的简单组件编写麻烦，复杂组件更加难以理解。比如，我们常常在componentDidMount和componentDidUpdate中获取数据，在同一个componentDidMount中可能会包含很多其他的逻辑，完全不相关的代码在同一个生命周期方法中被组合在一起，很容易产生Bug，并且导致逻辑看起来不一致
+ 难以理解的class，我们必须了解JS的this工作方式，以及多种this的绑定情况。class不能很好的压缩，热重载的时候也会出现不稳定的情况

---

#### Hooks的优势
+ 能优化上面的三个缺点
+ 能在无需修改组件结构的情况下复用状态逻辑（自定义Hooks）
+ 能将组件中相关关联的部分拆分成更小的函数
+ 副作用分离：副作用指的是那些没有发生在数据到视图层转换过程中的逻辑，比如ajax请求，访问原生dom元素，本地持久化缓存，绑定/解绑事件，添加/订阅，设置定时器，记录日志等等。以往这些副作用都是写在类组件的生命周期函数中的，而useEffect会在全部渲染完毕后执行

---

#### Hooks使用规则
+ 只能在函数外层调用Hooks，不要在循环、条件判断或者子函数中调用
+ 只能在React组件中调用，不要在其他JavaScript函数中调用